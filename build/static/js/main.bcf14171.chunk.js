(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1098:function(e,t){},1142:function(e,t){},1294:function(e,t,n){"use strict";n.r(t);n(522),n(524);var a=n(5),o=n.n(a),r=n(506),c=n.n(r),i=(n(530),n(507)),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(i.a,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):l(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):l(e)})}}()},130:function(e,t,n){"use strict";var a=n(511),o=new(n.n(a).a)(window.web3.currentProvider);t.a=o},244:function(e,t,n){"use strict";var a=n(130);t.a=new a.a.eth.Contract([{constant:!0,inputs:[],name:"getHash",outputs:[{name:"x",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"x",type:"string"}],name:"sendHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],"0xb84b12e953f5bcf01b05f926728e855f2d4a67a9")},445:function(e,t){},507:function(e,t,n){"use strict";(function(e){var a=n(75),o=n.n(a),r=n(172),c=n(508),i=n(509),s=n(518),l=n(510),u=n(519),f=n(1295),h=n(1296),d=n(520),p=n(1297),m=n(5),g=n.n(m),b=(n(536),n(537),n(130)),v=n(512),w=n(244),E=function(t){function n(){var t,a;Object(c.a)(this,n);for(var i=arguments.length,u=new Array(i),f=0;f<i;f++)u[f]=arguments[f];return(a=Object(s.a)(this,(t=Object(l.a)(n)).call.apply(t,[this].concat(u)))).state={ipfsHash:null,buffer:"",ethAddress:"",blockNumber:"",transactionHash:"",gasUsed:"",txReceipt:""},a.captureFile=function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return a.convertToBuffer(n)}},a.convertToBuffer=function(){var t=Object(r.a)(o.a.mark(function t(n){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:r=t.sent,a.setState({buffer:r});case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),a.onClick=Object(r.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a.setState({blockNumber:"waiting.."}),a.setState({gasUsed:"waiting..."}),e.next=5,b.a.eth.getTransactionReceipt(a.state.transactionHash,function(e,t){console.log(e,t),a.setState({txReceipt:t})});case 5:return e.next=7,a.setState({blockNumber:a.state.txReceipt.blockNumber});case 7:return e.next=9,a.setState({gasUsed:a.state.txReceipt.gasUsed});case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])})),a.onSubmit=function(){var e=Object(r.a)(o.a.mark(function e(t){var n,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b.a.eth.getAccounts();case 3:return n=e.sent,console.log("Sending from Metamask account: "+n[0]),e.next=7,w.a.options.address;case 7:return r=e.sent,a.setState({ethAddress:r}),e.next=11,v.a.add(a.state.buffer,function(e,t){console.log(e,t),a.setState({ipfsHash:t[0].hash}),w.a.methods.sendHash(a.state.ipfsHash).send({from:n[0]},function(e,t){console.log(t),a.setState({transactionHash:t})})});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(u.a)(n,t),Object(i.a)(n,[{key:"render",value:function(){return g.a.createElement("div",{className:"App"},g.a.createElement("header",{className:"App-header"},g.a.createElement("h1",null," Calimo Tech Blockchain Storage"),g.a.createElement("img",{src:"https:ipfs.io/ipfs/QmVqKYfEjdHmbWD4qML5RezYakhRQC3aJL5vj2qb4cBu8m",alt:"Calimo Icon",width:"90",height:"90"})),g.a.createElement("hr",null),g.a.createElement(f.a,null,g.a.createElement("h3",null," Select a file to upload on the Calimo Blockchain Storage "),g.a.createElement(h.a,{onSubmit:this.onSubmit},g.a.createElement("input",{type:"file",onChange:this.captureFile}),g.a.createElement(d.a,{bsStyle:"primary",type:"submit"},"Submit")),g.a.createElement("img",{src:"https:ipfs.io/ipfs/".concat(this.state.ipfsHash),alt:""}),g.a.createElement("hr",null),g.a.createElement(d.a,{onClick:this.onClick}," Get Transaction Receipt "),g.a.createElement(p.a,{bordered:!0,responsive:!0},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",null,"Tx Receipt Category"),g.a.createElement("th",null,"Values"))),g.a.createElement("tbody",null,g.a.createElement("tr",null,g.a.createElement("td",null,"IPFS Hash # stored on Eth Contract"),g.a.createElement("td",null,this.state.ipfsHash)),g.a.createElement("tr",null,g.a.createElement("td",null,"Ethereum Contract Address"),g.a.createElement("td",null,this.state.ethAddress)),g.a.createElement("tr",null,g.a.createElement("td",null,"Tx Hash # "),g.a.createElement("td",null,this.state.transactionHash)),g.a.createElement("tr",null,g.a.createElement("td",null,"Block Number # "),g.a.createElement("td",null,this.state.blockNumber)),g.a.createElement("tr",null,g.a.createElement("td",null,"Gas Used"),g.a.createElement("td",null,this.state.gasUsed))))))}}]),n}(m.Component);t.a=E}).call(this,n(0).Buffer)},512:function(e,t,n){"use strict";var a=new(n(787))({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=a},521:function(e,t,n){e.exports=n(1294)},530:function(e,t,n){},536:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},537:function(e,t,n){},569:function(e,t){},571:function(e,t){},592:function(e,t){},609:function(e,t){},611:function(e,t){},642:function(e,t){},643:function(e,t){},690:function(e,t){},805:function(e,t){},807:function(e,t){},813:function(e,t){},815:function(e,t){},843:function(e,t){},844:function(e,t){},867:function(e,t){},869:function(e,t){},872:function(e,t){},880:function(e,t){},882:function(e,t){},923:function(e,t){},925:function(e,t){},932:function(e,t){},934:function(e,t){},940:function(e,t){},942:function(e,t){}},[[521,2,1]]]);
//# sourceMappingURL=main.bcf14171.chunk.js.map